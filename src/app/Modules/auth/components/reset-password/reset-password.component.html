<article class="d-flex flex-column gap-4 w-100 ps-4">
    <div class="content d-flex flex-column  gap-3">
        <h2>Reset Password</h2>
        <p>If you already have an account register <br>
            You can 
            <span>
                <a class="text-danger fw-bolder" routerLink="../../auth" >Login here !</a>
            </span>  
        </p>
    </div>
    <form class="d-flex flex-column w-75 gap-3" (ngSubmit)="onReset(resetForm)" [formGroup]="resetForm">
        <div class="d-flex flex-column gap-2" *ngFor="let formField of formFields">
            <label [for]="formField.controlName" class=" fs-6">
                {{formField.label}}
            </label>
            <input [formControlName]="formField.controlName" 
            [type]="formField.type" [id]="formField.controlName" 
            [placeholder]="formField.placeholder"
            class="form-control border-2 fs-6 p-2">

            <div *ngIf="resetForm.get(formField.controlName)?.invalid && 
                        (resetForm.get(formField.controlName)?.touched ||
                        resetForm.get(formField.controlName)?.dirty)"
                        [ngClass]="{'controlName-invalid': resetForm.get(formField.controlName)?.invalid}"
                        class="error">

                <div *ngIf="resetForm.get(formField.controlName)?.errors?.['required']">
                    <p class="text-danger mb-0">
                        {{formField.label}} is <strong>required</strong>
                    </p>
                </div>
                <div *ngIf="resetForm.get(formField.controlName)?.errors?.['email']">
                    <p class="text-danger mb-0">
                        Please enter a valid email address.
                    </p>
                </div>
                <div *ngIf="resetForm.get(formField.controlName)?.errors?.['pattern']">
                    <p class="text-danger mb-0" >
                        Password length must be greater than or equal to 8 and password must contain one or more uppercase , lowercase , numeric and special characters.
                    </p>
                </div>
            </div>
        </div>
        
<!-- 
        <div class="d-flex flex-column gap-2" >
            <label for="email" class=" fs-6">Email</label>
            <input formControlName="email" type="email" class="form-control" id="email" class="form-control border-2 fs-6 p-2" placeholder="Enter your E-mail" id="email">
            <div *ngIf="resetForm.get('email')?.errors != null && resetForm.get('email')?.touched">
                <div *ngIf="resetForm.get('email')?.errors?.['required']">
                    <p class="text-danger mb-0">E-mail is <strong>required</strong></p>
                </div>
                <div *ngIf="resetForm.get('email')?.errors?.['email']">
                    <p class="text-danger mb-0">Please enter a valid email address.</p>
                </div>
            </div>
        </div>
        <div class="d-flex flex-column gap-2" >
            <label for="OTP" class=" fs-6">OTP</label>
            <input formControlName="OTP" type="text" class="form-control" id="OTP" class="form-control border-2 fs-6 p-2" placeholder="OTP" id="OTP">
            <div *ngIf="resetForm.get('OTP')?.errors != null && resetForm.get('OTP')?.touched">
                <div *ngIf="resetForm.get('OTP')?.errors?.['required']">
                    <p class="text-danger mb-0">OTP is <strong>required</strong></p>
                </div>
            </div>
        </div>
        <div class="d-flex flex-column gap-2">
            <label for="password" class=" fs-6">Password:</label>
            <input formControlName="password" type="password" class="form-control border-2 fs-6 p-2" id="password" placeholder="Enter your Password">
            <div *ngIf="resetForm.get('password')?.errors != null && resetForm.get('password')?.touched">
                <div *ngIf="resetForm.get('password')?.errors?.['required']">
                    <p class="text-danger mb-0">password is <strong>required</strong></p>
                </div>
                <div *ngIf="resetForm.get('password')?.errors?.['pattern']">
                    <p class="text-danger mb-0" >Password length must be greater than or equal to 8 and password must contain one or more uppercase , lowercase , numeric and special characters</p>
                </div>
            </div>
        </div>
        <div class="d-flex flex-column gap-2">
            <label for="confirmPassword" class=" fs-6">Confirm Password:</label>
            <input formControlName="password" type="password" class="form-control border-2 fs-6 p-2" id="confirmPassword" placeholder="Retype your Password">
            <div *ngIf="resetForm.get('password')?.errors != null && resetForm.get('password')?.touched">
                <div *ngIf="resetForm.get('password')?.errors?.['required']">
                    <p class="text-danger mb-0">password confirmation is <strong>required</strong></p>
                </div>
                <div *ngIf="resetForm.get('password')?.errors?.['pattern']">
                    <p  class="text-danger mb-0">Password length must be greater than or equal to 8 and password must contain one or more uppercase , lowercase , numeric and special characters</p>
                </div>
            </div>
        </div> -->

        <button class="primary d-block w-100 mt-1 fs-6" [disabled]="resetForm.invalid" >Reset Password</button>

    </form>
</article>